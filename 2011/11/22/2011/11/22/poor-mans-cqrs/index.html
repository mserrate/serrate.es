<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Poor Mans CQRS - Mar莽al Serrate | El caso frontera</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="[Url del proyecto: https://github.com/mserrate/PoorMansCQRS] Muchas veces cuando se habla de Command-Query Responsibility Segregation (CQRS) empiezan a surgir conceptos tales como: Event Sourcing, 2-P">
<meta name="keywords" content="CQRS">
<meta property="og:type" content="article">
<meta property="og:title" content="Poor Mans CQRS">
<meta property="og:url" content="http://serrate.es/2011/11/22//2011/11/22/poor-mans-cqrs//index.html">
<meta property="og:site_name" content="Mar莽al Serrate | El caso frontera">
<meta property="og:description" content="[Url del proyecto: https://github.com/mserrate/PoorMansCQRS] Muchas veces cuando se habla de Command-Query Responsibility Segregation (CQRS) empiezan a surgir conceptos tales como: Event Sourcing, 2-P">
<meta property="og:updated_time" content="2017-06-25T10:36:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Poor Mans CQRS">
<meta name="twitter:description" content="[Url del proyecto: https://github.com/mserrate/PoorMansCQRS] Muchas veces cuando se habla de Command-Query Responsibility Segregation (CQRS) empiezan a surgir conceptos tales como: Event Sourcing, 2-P">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17568891-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">serrate.es</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://serrate.es"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-/2011/11/22/poor-mans-cqrs/" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Poor Mans CQRS
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2011/11/22/2011/11/22/poor-mans-cqrs/" class="article-date">
  <time datetime="2011-11-22T11:45:39.000Z" itemprop="datePublished">2011-11-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CQRS/">CQRS</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>[Url del proyecto: <a href="https://github.com/mserrate/PoorMansCQRS" target="_blank">https://github.com/mserrate/PoorMansCQRS</a>]</p>
<p>Muchas veces cuando se habla de Command-Query Responsibility Segregation (CQRS) empiezan a surgir conceptos tales como: <strong>Event Sourcing</strong>, <strong>2-Phase Commit</strong>, <strong>Snapshots</strong>, <strong>mensajer铆a as铆ncrona</strong>, <strong>eventual consistency</strong> y multitud m谩s que hacen que mucha gente piense que CQRS es una arquitectura compleja y que solo se puede utilizar para desarrollar aplicaciones tipo Amazon, Twitter y Facebook (vamos, los proyectos que nos surgen cada d铆a&#8230;).</p>
<p>Por el contrario, soy de la opini贸n de que el uso de este patr贸n nos permite implementar de forma exitosa una aplicaci贸n basada en <strong>Domain-Driven Design</strong> (DDD). Y es que <strong>no se entiende CQRS sin DDD</strong>.</p>
<p>Es decir, no hace falta implementar Amazon para utilizar DDD y CQRS pero tampoco vayamos a implementarlo en la web de la panader铆a de nuestro cu帽ado en Villaconejo del Monte.<a id="more"></a></p>
<p>Antes de nada, aviso para navegantes: <strong>Para una explicaci贸n de que es CQRS</strong> y que conceptos vienen ligados al patr贸n pod茅is mirar el siguiente webcast que un servidor grab贸 para SecondNug en Mayo &#8217;11:</p>
<p><a href="https://msevents.microsoft.com/CUI/EventDetail.aspx?culture=es-ES&amp;EventID=1032486026&amp;CountryCode=ES" target="_blank" rel="external">https://msevents.microsoft.com/CUI/EventDetail.aspx?culture=es-ES&amp;EventID=1032486026&amp;CountryCode=ES</a></p>
<p>En 茅l ver茅is teor铆a y un ejemplo completo del uso de Event Sourcing, Snapshots, Task Based UI, etc. Recomiendo su visionado para entender c贸mo desarrollar aplicaciones altamente escalables v铆a CQRS y, de la misma forma, leer los art铆culos de los pioneros en esta clase de arquitecturas: <strong>Greg Young</strong> y <strong>Udi Dahan</strong>.</p>
<p>La motivaci贸n de este proyecto es b谩sicamente el contrario, <strong>acercar CQRS</strong> y ver las ventajas que conlleva su uso sin necesidad de incorporar conceptos m谩s complejos y con tecnolog铆as ya conocidas:</p>
<ul>
<li>ASP.NET MVC 3</li>
<li>NHibernate y Fluent NHibernate</li>
<li>Castle Windsor</li>
<li>MSpec</li>
</ul>
<p>Por eso mismo, la ejecuci贸n de la aplicaci贸n es totalmente <strong>s铆ncrona</strong> (por lo tanto, <strong>no escalable</strong>), sin la existencia de eventos externos ni colas, y una sola base de datos tanto para lecturas y escrituras. Al utilizar contratos para la implementaci贸n se podr铆a migrar sin mucha dificultad a una implementaci贸n m谩s &#8220;est谩ndar&#8221; de CQRS pero para ello ya existen varios ejemplos por internet. Pero bueno, por esa raz贸n el t铆tulo de Poor Mans CQRS </p>
<h2 id="Solucion"><a href="#Solucion" class="headerlink" title="Soluci贸n"></a>Soluci贸n</h2><p>La soluci贸n est谩 compuesta por los siguientes proyectos que ir茅 explicando en siguientes posts:</p>
<ul>
<li>PoorMansCQRS.Web</li>
<li>PoorMansCQRS.ReadModel</li>
<li>PoorMansCQRS.Commands</li>
<li>PoorMansCQRS.CommandHandlers</li>
<li>PoorMansCQRS.Domain</li>
<li>PoorMansCQRS.Data</li>
<li>PoorMansCQRS.Infrastructure</li>
<li>PoorMansCQRS.Testing</li>
</ul>

      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CQRS/">CQRS</a></li></ul>

      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2011/11/24/2011/11/24/poor-mans-cqrs-domain-layer/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-title"><span>&lt;</span>&nbsp;
        
          Poor Man&amp;#8217;s CQRS &amp;#8211; Domain Layer
        
      </div>
    </a>
  
  
    <a href="/2011/11/15/2011/11/15/enrutamiento-con-wcf-4-y-routing-service/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Enrutamiento con WCF 4 y Routing Service&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>




<div class="share_addthis">
  <div class="sharing addthis_toolbox share">
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Mar莽al Serrate&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'serrate-es';
  
  var disqus_url = 'http://serrate.es/2011/11/22/2011/11/22/poor-mans-cqrs/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>