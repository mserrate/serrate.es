<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Big Data: arquitectura lambda - Marçal Serrate | El caso frontera</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Actualmente llevo varios años trabajando con sistemas distribuidos y arquitecturas orientadas a eventos, desde el malentendido SOA (o su versión refurbished como son los Microservices), hasta Event So">
<meta name="keywords" content="Apache Storm,Big Data,Hadoop">
<meta property="og:type" content="article">
<meta property="og:title" content="Big Data: arquitectura lambda">
<meta property="og:url" content="http://serrate.es/2015/12/03/big-data-arquitectura-lambda/index.html">
<meta property="og:site_name" content="Marçal Serrate | El caso frontera">
<meta property="og:description" content="Actualmente llevo varios años trabajando con sistemas distribuidos y arquitecturas orientadas a eventos, desde el malentendido SOA (o su versión refurbished como son los Microservices), hasta Event So">
<meta property="og:image" content="http://serrate.es/uploads/2015/12/Lambda-3.png">
<meta property="og:updated_time" content="2017-07-16T16:38:21.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Big Data: arquitectura lambda">
<meta name="twitter:description" content="Actualmente llevo varios años trabajando con sistemas distribuidos y arquitecturas orientadas a eventos, desde el malentendido SOA (o su versión refurbished como son los Microservices), hasta Event So">
<meta name="twitter:image" content="http://serrate.es/uploads/2015/12/Lambda-3.png">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17568891-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">serrate.es</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://serrate.es"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-big-data-arquitectura-lambda" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Big Data: arquitectura lambda
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2015/12/03/big-data-arquitectura-lambda/" class="article-date">
  <time datetime="2015-12-03T22:51:16.000Z" itemprop="datePublished">2015-12-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Big-Data/">Big Data</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Actualmente llevo varios años trabajando con sistemas distribuidos y arquitecturas orientadas a eventos, desde el malentendido <a href="http://www.serrate.es/tag/soa/" target="_blank">SOA</a> (o su versión refurbished como son los <a href="http://udidahan.com/2014/03/31/on-that-microservices-thing/" target="_blank">Microservices</a>), hasta <a href="http://www.serrate.es/2015/02/18/sesion-en-la-dotnetspain-conference/" target="_blank">Event Sourcing</a> (indirectamente enlazado con <a href="http://www.serrate.es/category/arquitectura/cqrs/" target="_blank">CQRS</a>).</p>
<p>Muchos de los conceptos vinculados con eventos como <strong>inmutabilidad</strong>, <strong>perpetuidad</strong>, <strong>idempotencia</strong>… son igualmente validos para realizar <em>stream processing</em> o flujo continuo de eventos. Si a esto le sumamos el proceso por lotes o <em>batch processing</em>, entramos en el terreno de lo que muchos llaman Big Data.</p>
<h3 id="Big-Data"><a href="#Big-Data" class="headerlink" title="Big Data"></a>Big Data</h3><p>Cuando pensamos en big data lo primero que nos viene a la cabeza es <strong>Hadoop</strong> para ejecutar procesos por lotes. Tenemos que pensar que Hadoop ofrece una gran capacidad para procesar una cantidad indecente de datos, pero a costa de una alta latencia en la respuesta. Aunque esta latencia puede ser de sobras aceptable para muchos casos de uso, no lo es para otros que tienen la necesidad de procesar una gran cantidad de datos en tiempo (casi) real.</p>
<p>Ahí es donde entra en juego lo que muchos llaman <a href="http://nathanmarz.com/blog/how-to-beat-the-cap-theorem.html" target="_blank">lambda architecture</a> (Nathan Marz, ex-twitter).</p>
<a id="more"></a>Lo que nos ofrece esta arquitectura es el concepto de procesar la mayoría de nuestros datos en lotes (batch) y que, mientras dura este proceso, podamos procesar los datos que continúan entrando (stream) en el sistema:<br><br><img src="/uploads/2015/12/Lambda-3.png" width="483" height="223" title="Arquitectura lambda" alt="Arquitectura lambda">
<p>Podemos decir que:</p>
<blockquote>
<p>Situación Actual = Consulta(Batch Process) + Consulta(Stream Process)</p>
</blockquote>
<h4 id="Batch-Processing"><a href="#Batch-Processing" class="headerlink" title="Batch Processing"></a>Batch Processing</h4><p>Como su nombre indica, vamos a procesar eventos pero de forma agrupada. Normalmente hablamos aquí de <strong>Hadoop</strong> (o para ser mas exactos el sistema de ficheros <strong>HDFS</strong> y una herramienta para procesar como <strong>MapReduce</strong>, <strong>Pig</strong> …)</p>
<p>El resultado del proceso se persistirá en una base de datos que soporte escrituras en lotes (ElephantDB, HBase), lo bueno de ésta parte es que la base de datos no tiene que soportar escrituras aleatorias: una de las principales causas de complejidad de las bases de datos por tener que ofrecer compactación en línea y concurrencia.</p>
<h4 id="Stream-Processing"><a href="#Stream-Processing" class="headerlink" title="Stream Processing"></a>Stream Processing</h4><p>El objetivo es procesar uno por uno los eventos que recibimos: dependiendo del numero de eventos y del rendimiento que necesitemos vamos a usar una tecnología u otra: <strong>Spark Streaming</strong> (aunque sea micro-batching, el rendimiento es suficiente para la mayoría de casos), <strong>Storm</strong>, <strong>Samza</strong>, <strong>Flink</strong>.</p>
<p>El resultado del proceso se persistirá en una base de datos que sí tiene que soportar escrituras aleatorias por lo que una de las opciones puede ser <strong>Cassandra</strong>.</p>
<p>En siguientes publicaciones voy a presentar ejemplos concretos con las imágenes <em>docker</em> de soporte con algunas de las tecnologías que utilizo como <strong>Kafka</strong>, <strong>Storm</strong>, <strong>Cassandra</strong> y <strong>Druid</strong>.</p>

      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Apache-Storm/">Apache Storm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/">Big Data</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hadoop/">Hadoop</a></li></ul>

      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/05/18/construccion-de-actores-en-akka-net/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Construcción de actores en Akka.net&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>




<div class="share_addthis">
  <div class="sharing addthis_toolbox share">
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Marçal Serrate&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'serrate-es';
  
  var disqus_url = 'http://serrate.es/2015/12/03/big-data-arquitectura-lambda/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>